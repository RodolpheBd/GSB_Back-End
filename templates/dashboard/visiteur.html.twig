{% extends 'base.html.twig' %}

{% block title %}Tableau de bord Visiteur
{% endblock %}

{% block body %}
	<div class="header">Suivi de vos Frais</div>

	<div class="card-container">

		<div
			class="card-container-one">
			<!-- Card pour Cafés -->
			<div class="card">
				<img src="{{ asset('assets/images/coffee.png') }}" class="card-img" alt="Frais Café">
				<div class="card-body">
					<div class="card-title">Cafés</div>
					<a href="{{ path('ajout_cafe') }}" class="btn btn-primary">Ajouter un frais</a>
				</div>
			</div>

			<!-- Card pour Hébergements -->
			<div class="card">
				<img src="{{ asset('assets/images/hotel.png') }}" class="card-img" alt="Frais Hébergement">
				<div class="card-body">
					<div class="card-title">Hébergement</div>
					<a href="{{ path('ajout_hebergement') }}" class="btn btn-primary">Ajouter un frais</a>
				</div>
			</div>
		</div>

		<div
			class="card-container-two">
			<!-- Card pour Déplacements -->
			<div class="card">
				<img src="{{ asset('assets/images/car.png') }}" class="card-img" alt="Frais Déplacement">
				<div class="card-body">
					<div class="card-title">Déplacements</div>
					<a href="{{ path('ajout_deplacement') }}" class="btn btn-primary">Ajouter un frais</a>
				</div>
			</div>

			<!-- Card pour Restaurations -->
			<div class="card">
				<img src="{{ asset('assets/images/catering.png') }}" class="card-img" alt="Frais Restauration">
				<div class="card-body">
					<div class="card-title">Restaurations</div>
					<a href="{{ path('ajout_restauration') }}" class="btn btn-primary">Ajouter un frais</a>
				</div>
			</div>
		</div>
	</div>

	{# <div class="header">Liste de vos frais</div>
		
			<div class="container">
				<table class="container-table">
					<thead>
						<tr>
							<th>Type</th>
							<th>Date</th>
							<th>Montant</th>
							<th>Justificatif</th>
							<th>Statut</th>
						</tr>
					</thead>
					<tbody>
						{% for fee in fees_list %}
							<tr>
								<td>{{ fee.title }}</td>
								<td>{{ fee.date }}</td>
								<td>{{ fee.price }}€</td>
								<td>{{ fee.image }}</td>
								<td>{{ fee.status }}</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="5" class="no-data">Aucun frais trouvé.</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div> #}
{% endblock %}

{# <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
	function showCategory(category) {
document.getElementById("category-details").style.display = "block";
document.getElementById("category-title").textContent = category.charAt(0).toUpperCase() + category.slice(1);
}

document.getElementById("add-fee-button").onclick = function () {
document.getElementById("add-fee-form").style.display = "block";
};

function addFee(category) {
const feeAmount = document.getElementById("fee-amount").value;

fetch('/visiteur/add-fee', {
method: 'POST',
body: new URLSearchParams(
{'category': category, 'amount': feeAmount}
),
headers: {
'Content-Type': 'application/x-www-form-urlencoded'
}
}).then(response => response.json()).then(data => {
if (data.success) {
alert("Frais ajouté avec succès !");
window.location.reload(); // Rafraîchir la page pour afficher le nouveau frais
} else {
alert("Erreur lors de l'ajout du frais.");
}
});
}
</script> #}
