{% extends 'base.html.twig' %}

{% block title %}Tableau de bord Comptabilité{% endblock %}

{% block body %}
    <div class="header">Gestion des Frais</div>
    <div class="container">
        <div class="container-actions">
            {% include 'components/button.html.twig' with {
            'action': '',
            'text': 'Valider le Frais'
            } %}
            {% include 'components/button.html.twig' with {
            'action': '',
            'text': 'Rejeter le Frais'
            } %}
        </div>
        <table class="container-table">
            <thead>
                <tr>
                    <th>Utilisateur</th>
                    <th>Type</th>
                    <th>Date</th>
                    <th>Montant</th>
                    <th>Détail</th>
                    <th>Justificatif</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr data-id="1">
                    <td>John Doe</td>
                    <td>Café</td>
                    <td>16/12/2024</td>
                    <td>2.50€</td>
                    <td>-</td>
                    <td>Ticket de caisse fourni</td>
                    <td>Approuvé</td>
                </tr>
                <tr data-id="2">
                    <td>Jane Doe</td>
                    <td>Hôtel</td>
                    <td>15/12/2024</td>
                    <td>120€</td>
                    <td>-</td>
                    <td>Facture complète</td>
                    <td>En attente</td>
                </tr>
                <tr data-id="3">
                    <td>John Doe</td>
                    <td>Hébergement</td>
                    <td>14/12/2024</td>
                    <td>350€</td>
                    <td>-</td>
                    <td>Contrat de location</td>
                    <td>Approuvé</td>
                </tr>
                <tr data-id="4">
                    <td>Jane Doe</td>
                    <td>Déplacement</td>
                    <td>13/12/2024</td>
                    <td>45€</td>
                    <td>65kms</td>
                    <td>Justificatif incomplet</td>
                    <td>Refusé</td>
                </tr>
                <tr data-id="5">
                    <td>John Doe</td>
                    <td>Café</td>
                    <td>12/12/2024</td>
                    <td>3€</td>
                    <td>-</td>
                    <td>Aucun justificatif</td>
                    <td>Refusé</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // JavaScript pour gérer la sélection de la ligne
        document.querySelectorAll('tr[data-id]').forEach(function(row) {
            row.addEventListener('click', function() {
                // Supprimer la sélection précédente
                document.querySelectorAll('tr.selected').forEach(function(selectedRow) {
                    selectedRow.classList.remove('selected');
                });

                // Ajouter la classe "selected" à la ligne cliquée
                row.classList.add('selected');

                // Mettre à jour l'ID du frais dans le formulaire
                document.getElementById('fraisId').value = row.getAttribute('data-id');
            });
        });

        // Ajouter un effet visuel de sélection pour l'utilisateur
        document.querySelectorAll('tr').forEach(function(row) {
            row.addEventListener('mouseover', function() {
                row.style.cursor = 'pointer';
            });
        });
    </script>
{% endblock %}

